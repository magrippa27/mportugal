---
import { type Language, useTranslations } from '../i18n/utils';

interface Props {
  title: string;
  category: string;
  coverImage: string;
  summary: string;
  slug: string;
  lang: Language;
  publicationDate: Date;
}

const { title, category, coverImage, summary, slug, lang, publicationDate } = Astro.props;
const t = useTranslations(lang);

const year = publicationDate.getFullYear();
---

<article class="bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow">
  <img 
    src={coverImage} 
    alt={title}
    class="w-full h-64 object-cover"
  />
  <div class="p-6">
    <div class="flex items-center gap-2 mb-3">
      <span class="inline-block px-3 py-1 text-xs font-medium rounded-full bg-primary-100 text-primary-800">
        {t(`blog.category.${category}`)}
      </span>
      <span class="text-sm text-gray-500">
        {year}
      </span>
    </div>
    <h3 class="text-xl font-bold mb-3 text-gray-900">
      {title}
    </h3>
    <p class="text-gray-600 mb-4 line-clamp-3">
      {summary}
    </p>
    <div class="flex items-center justify-between">
      <a 
        href={`/${lang}/books/${slug}`}
        class="text-primary-700 hover:text-primary-900 font-medium underline"
      >
        {t('blog.readMore')}
      </a>
      <a 
        href="#"
        class="px-4 py-2 bg-accent-600 text-white rounded hover:bg-accent-700 transition-colors text-sm font-medium"
      >
        {t('books.download')}
      </a>
    </div>
  </div>
</article>

