---
import { getCollection } from 'astro:content';
import MainLayout from '../../layouts/MainLayout.astro';
import CitiesCarousel from '../../components/react/CitiesCarousel';
import { type Language, useTranslations, languages } from '../../i18n/utils';

export async function getStaticPaths() {
  return Object.keys(languages).map(lang => ({ params: { lang } }));
}

const { lang } = Astro.params as { lang: Language };
const t = useTranslations(lang);

const cities = [
  {
    src: '/portugal.jpg',
    alt: 'Porto',
    city: 'Porto',
    country: lang === 'en' ? 'Portugal' : 'Portugal'
  },
  {
    src: '/portugal.jpg',
    alt: 'Setubal',
    city: 'Setúbal',
    country: lang === 'en' ? 'Portugal' : 'Portugal'
  },
  {
    src: '/MDEPORTUAL.jpg',
    alt: 'Benguela',
    city: 'Benguela',
    country: lang === 'en' ? 'Angola' : 'Angola'
  },
  {
    src: '/atlas-1052011_1920.jpg',
    alt: 'Salta',
    city: 'Salta',
    country: lang === 'en' ? 'Argentina' : 'Argentina'
  }
];
---

<MainLayout 
  title={t('about.title')}
  description={t('site.tagline')}
  lang={lang}
>
  <section class="relative h-[400px] flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0 z-0">
      <img 
        src="/MDEPORTUAL.jpg" 
        alt={t('about.title')}
        class="w-full h-full object-cover object-[center_30%]"
      />
      <div class="absolute inset-0 bg-black bg-opacity-50"></div>
    </div>
    <div class="relative z-10 text-center px-4 sm:px-6 lg:px-8">
      <div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl shadow-2xl px-8 py-10 md:px-12 md:py-12 inline-block">
        <h1 class="text-5xl md:text-6xl font-bold text-white drop-shadow-lg">
          {t('about.title')}
        </h1>
      </div>
    </div>
  </section>

  <section class="py-16 bg-neutral">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="bg-white rounded-lg border-2 border-gray-300 p-8 md:p-12 shadow-md">
        <h2 class="text-3xl font-bold text-gray-900 mb-6">
          {lang === 'en' ? 'Biography' : 'Biografía'}
        </h2>
        <div class="prose prose-lg max-w-none text-gray-700 leading-relaxed space-y-4">
          {lang === 'en' ? (
            <>
              <p>
                Manuel de Portugal is a distinguished scholar, researcher, and author with decades of experience in telecommunications and tobacco history. His work bridges the technical precision of amateur radio operations with the meticulous research of historical analysis.
              </p>
              <p>
                Licensed as an amateur radio operator in multiple countries, including Angola (CR6IK), Portugal (CT4IK), and Argentina (LU5OM), he has contributed significantly to the global amateur radio community through both practical operations and technical documentation.
              </p>
              <p>
                His research on tobacco history has produced several authoritative publications, combining rigorous academic methodology with accessible writing that appeals to both scholars and general readers interested in the cultural and economic impact of tobacco in Latin America and the Iberian Peninsula.
              </p>
              <p>
                Currently based in Salta, Argentina, he continues his research and maintains active participation in the international amateur radio community while developing new publications on both subjects of his expertise.
              </p>
            </>
          ) : (
            <>
              <p>
                Manuel de Portugal es un distinguido académico, investigador y autor con décadas de experiencia en telecomunicaciones e historia del tabaco. Su trabajo une la precisión técnica de las operaciones de radioaficionados con el análisis histórico meticuloso.
              </p>
              <p>
                Licenciado como operador de radioaficionado en múltiples países, incluyendo Angola (CR6IK), Portugal (CT4IK) y Argentina (LU5OM), ha contribuido significativamente a la comunidad global de radioaficionados a través de operaciones prácticas y documentación técnica.
              </p>
              <p>
                Su investigación sobre la historia del tabaco ha producido varias publicaciones autorizadas, combinando metodología académica rigurosa con escritura accesible que atrae tanto a académicos como a lectores generales interesados en el impacto cultural y económico del tabaco en América Latina y la Península Ibérica.
              </p>
              <p>
                Actualmente radicado en Salta, Argentina, continúa su investigación y mantiene participación activa en la comunidad internacional de radioaficionados mientras desarrolla nuevas publicaciones sobre ambos temas de su especialización.
              </p>
            </>
          )}
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-neutral">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-8 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          {lang === 'en' ? 'Cities of Significance' : 'Ciudades de Importancia'}
        </h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          {lang === 'en' 
            ? 'Places that have shaped my journey and research across different continents and cultures.'
            : 'Lugares que han moldeado mi trayectoria e investigación a través de diferentes continentes y culturas.'}
        </p>
      </div>
      <CitiesCarousel cities={cities} client:load />
    </div>
  </section>
</MainLayout>

